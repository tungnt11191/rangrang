<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- the product used to deduce on sale order -->

        <delete id="pos_gift_card.gift_card_report_pdf" model="ir.actions.report"/>


        <template id="gift_card_template_custom">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="o">
                    <t t-call="web.external_layout">
                        <div style="margin:0px; font-size:24px; font-family:arial, 'helvetica neue', helvetica, sans-serif; line-height:36px; color:#333333; text-align: center">
                            Here is your gift card!
                        </div>
                        <div style="padding-top:20px; padding-bottom:20px">
                            <img src="/gift_card/static/img/gift_card.png" style="display:block; border:0; outline:none; text-decoration:none; margin:auto;" width="300"/>
                        </div>
                        <div style="padding:0; margin:0px; padding-top:35px; padding-bottom:35px; text-align:center;">
                            <h3 style="margin:0px; line-height:48px; font-family:arial, 'helvetica neue', helvetica, sans-serif; font-size:40px; font-style:normal; font-weight:normal; color:#333333; text-align:center">
                                <strong><span t-field="o.initial_amount"/></strong>
                            </h3>
                        </div>
                        <div style="padding:0; margin:0px; padding-top:35px; padding-bottom:35px; background-color:#efefef; text-align:center;">
                            <p style="margin:0px; font-size:14px;font-family:arial, 'helvetica neue', helvetica, sans-serif; line-height:21px; color:#333333">
                                <strong>Gift Card Code</strong>
                            </p>
                            <p style="margin:0px; font-size:25px;font-family:arial, 'helvetica neue', helvetica, sans-serif; line-height:38px; color:#A9A9A9">
                                <span t-field="o.code"/>
                            </p>
                        </div>
                        <div style="padding:0; margin:0px; padding-top:10px; padding-bottom:10px; text-align:center;">
                            <h3 style="margin:0px; line-height:17px; font-family:arial, 'helvetica neue', helvetica, sans-serif; font-size:14px; font-style:normal; font-weight:normal; color:#A9A9A9; text-align:center">
                                Card expires <span t-field="o.expired_date"/>
                            </h3>
                        </div>
                        <div style="padding:0; margin:0px; padding-top:10px; padding-bottom:10px; text-align:center;">
                            <img t-att-src="'/report/barcode/Code128/'+o.code" style="width:400px;height:75px" alt="Barcode"/>
                        </div>
                        <div style="text-align:center;">
                            <strong>Partner: </strong> <span t-field="o.partner_id.name"/>
                        </div>
                    </t>
                </t>
            </t>
        </template>

        <record id="gift_card_report_pdf" model="ir.actions.report">
            <field name="name">Gift Card</field>
            <field name="model">gift.card</field>
            <field name="report_type">qweb-pdf</field>
            <field name="report_name">l10_vn_pos.gift_card_template_custom</field>
            <field name="binding_type">report</field>
            <field name="binding_model_id" ref="pos_gift_card.model_gift_card"/>
        </record>
    </data>
</odoo>
